<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>ShadowByte | Interface Ã‰lite</title>
    <style>
        /* DESIGN GLOBAL MASSIF */
        body { margin: 0; font-family: 'Segoe UI', Arial, sans-serif; background: #000; color: #fff; transition: 0.5s; overflow-x: hidden; }

        /* FOND DÃ‰GRADÃ‰ PRO */
        body.pro-mode {
            background: linear-gradient(90deg, #ff4e00, #ffea00, #7cfc00) !important;
            background-size: 400% 400% !important;
            animation: moveGradient 5s infinite alternate !important;
        }
        @keyframes moveGradient { 0% { background-position: 0% 50%; } 100% { background-position: 100% 50%; } }

        header { background: #0a0a0a; padding: 40px; text-align: center; border-bottom: 2px solid #5865F2; }
        nav { background: #111; display: flex; justify-content: center; gap: 30px; padding: 15px; border-bottom: 1px solid #333; position: sticky; top: 0; z-index: 1000; }
        nav a { color: #888; font-weight: bold; text-decoration: none; text-transform: uppercase; font-size: 13px; }

        section { max-width: 950px; margin: 40px auto; background: #0f0f0f; padding: 35px; border-radius: 15px; border: 1px solid #222; }

        /* NOUVELLE ZONE DE STATUT HYBRIDE */
        #status-box { background: #141414; padding: 25px; border-radius: 12px; border: 1px solid #333; text-align: center; margin-bottom: 30px; }
        .status-dot { height: 14px; width: 14px; border-radius: 50%; display: inline-block; margin-right: 10px; background: #747f8d; }
        .online-dot { background: #43b581 !important; box-shadow: 0 0 15px #43b581; }

        /* BOUTONS */
        .btn-main { padding: 12px 25px; background: #333; border: none; cursor: pointer; font-size: 16px; border-radius: 6px; color: white; font-weight: bold; }
        .btn-discord { background: #5865F2; width: 100%; max-width: 400px; padding: 15px; font-size: 18px; border-radius: 8px; border: none; color: white; cursor: pointer; font-weight: bold; }
        
        input { padding: 12px; border-radius: 6px; border: 1px solid #333; background: #222; color: white; width: 220px; }
        .game-item { background: #1a1a1a; padding: 15px; border-radius: 8px; margin: 10px 0; border: 1px solid #333; }
    </style>
</head>
<body onload="checkSavedProStatus(); startDiscordStatus();">

<header><h1>SHADOWBYTE</h1></header>

<nav>
    <a href="#accueil">Accueil</a>
    <a href="#gaming">Gaming Zone</a>
    <a href="#pro">Mode Pro</a>
</nav>

<section id="gaming">
    <h2>Gaming Zone</h2>
    
    <div id="status-box">
        <p><span id="dot" class="status-dot"></span> <span id="statut-txt">DÃ©tection en cours...</span></p>
        <p id="actuel-jeu" style="color:#7cfc00; font-size: 22px; font-weight:bold; margin-top: 10px;"></p>
        
        <div id="manual-contact" style="margin-top:15px; display:none;">
            <p style="font-size:12px; color:#666;">La dÃ©tection automatique prend du temps ?</p>
            <button class="btn-main" onclick="window.open('https://discord.com/users/1282298642054025257')">VÃ©rifier mon profil en direct</button>
        </div>
    </div>

    <div style="background: #161616; padding: 20px; border-radius: 10px; margin-bottom: 25px;">
        <h3>VÃ©rification d'Ã¢ge</h3>
        <input type="number" id="ageInput" placeholder="Ton Ã¢ge">
        <button class="btn-main" onclick="verifAge()">VÃ©rifier</button>
        <p id="ageReponse" style="margin-top:10px;"></p>
    </div>

    <h3>Mes jeux (ðŸ”’ PRO)</h3>
    <button class="btn-main" onclick="afficherJeux()">Voir mes jeux</button>
    <div id="listeJeux" style="display:none; margin-top:20px;">
        <div class="game-item">Roblox</div>
        <div class="game-item">Fortnite</div>
        <div class="game-item">Rocket League</div>
    </div>
</section>

<section id="pro" style="text-align:center;">
    <h2>Mode Pro</h2>
    <button class="btn-main" style="background:#ff4b4b; width:100%; max-width:350px; padding:18px;" onclick="activerPro()">ACTIVER MON ESSAI GRATUIT</button>
    <p style="margin-top:20px;">Code familial : <strong>ANEHO</strong></p>
    <input type="text" id="codeFamille" placeholder="Entrez le code">
    <button class="btn-main" onclick="verifCode()">Activer</button>

    <div style="margin-top: 40px; border-top: 1px solid #222; padding-top: 30px;">
        <button class="btn-discord" onclick="voirPseudo()">ðŸ”’ Pseudo Discord (Membres PRO)</button>
        <p id="discordResult" style="margin-top:20px; color:#7cfc00; font-size:24px; font-weight:bold;"></p>
    </div>
</section>

<script>
    const monID = "1282298642054025257"; 

    // OPTION 1 : NOUVELLE MÃ‰THODE DE DÃ‰TECTION (FORCE REFRESH)
    async function startDiscordStatus() {
        async function refresh() {
            try {
                // On ajoute un timestamp Ã  la fin pour forcer l'API Ã  ne pas utiliser le cache
                const res = await fetch(`https://api.lanyard.rest/v1/users/${monID}?t=${Date.now()}`);
                const data = await res.json();
                
                const dot = document.getElementById('dot');
                const txt = document.getElementById('statut-txt');
                const gameTxt = document.getElementById('actuel-jeu');
                const manual = document.getElementById('manual-contact');

                if(data.success) {
                    const p = data.data;
                    manual.style.display = "none";

                    if(p.discord_status !== "offline") {
                        dot.classList.add("online-dot");
                        txt.innerText = "ShadowByte est EN LIGNE";
                        const game = p.activities.find(a => a.type === 0);
                        gameTxt.innerText = game ? "ðŸŽ® Joue Ã  : " + game.name : "Station en veille";
                    } else {
                        dot.classList.remove("online-dot");
                        txt.innerText = "ShadowByte est Hors-ligne";
                        gameTxt.innerText = "";
                    }
                } else {
                    // Si Lanyard bug, on affiche le bouton de secours
                    txt.innerText = "Statut Temporairement Indisponible";
                    manual.style.display = "block";
                }
            } catch(e) { 
                document.getElementById('manual-contact').style.display = "block";
            }
        }
        refresh(); setInterval(refresh, 5000); // RafraÃ®chissement plus rapide (5s)
    }

    function checkSavedProStatus() { if(localStorage.getItem('pro') === 'true') document.body.classList.add('pro-mode'); }
    function activerPro() { document.body.classList.add('pro-mode'); localStorage.setItem('pro', 'true'); alert("AccÃ¨s Pro activÃ© !"); }
    function verifCode() { if(document.getElementById('codeFamille').value === "ANEHO") activerPro(); }
    function verifAge() {
        let age = document.getElementById('ageInput').value;
        if(age >= 14 && age <= 30) document.body.innerHTML = "<h1 style='color:red; text-align:center; margin-top:200px;'>ACCÃˆS INTERDIT</h1>";
        else if(age !== "") document.getElementById('ageReponse').innerHTML = "<span style='color:#7cfc00'>âœ… AccÃ¨s autorisÃ©</span>";
    }
    function afficherJeux() {
        if(document.body.classList.contains('pro-mode')) document.getElementById('listeJeux').style.display = "block";
        else alert("Mode PRO requis !");
    }
    function voirPseudo() {
        if(document.body.classList.contains('pro-mode')) document.getElementById('discordResult').innerText = "Pseudo : miroulepro";
        else alert("Veuillez activer le mode PRO.");
    }
</script>
</body>
</html>
